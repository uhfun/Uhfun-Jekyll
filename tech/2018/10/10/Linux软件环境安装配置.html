<!DOCTYPE html>
<html lang="zh-CN"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="keywords" content="傅杭波, Uhfun傅杭波, Uhfun, UhfunBlog, Hbson傅杭波, Hb, Hbson, 博客, 个人网站, 互联网, 后端, Web, Java, Spring, 翻唱, 唱歌">
  <meta name="description" content='代码与生活、热爱唱歌的boy | 傅杭波的个人博客'>
  <meta name="robots" content="all">
  <meta property="og:type" content="post" /><meta property="og:title" content="Linux软件环境安装配置 | UhfunBlog" />
  <meta property="og:image" content='https://uhfun.cn/assetshttps://s1.ax1x.com/2020/06/04/t0QjeK.jpg' />
  <meta property="og:type" content="article">
  <meta property="og:description" content="服务器软件的安装记录，包括科学上网ss、nginx、git、ftp服务器、java环境、内网穿透ngrok、Nexus

"><meta property="article:published_time" content='2018-10-10T09:55:00Z'><meta property="article:author" content="傅杭波"><meta property="og:image" content="" >
  <meta property="og:url" content="https://uhfun.cn/tech/2018/10/10/Linux%E8%BD%AF%E4%BB%B6%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE.html"><meta property="article:tag" content="VPS"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Shadowsocks"><meta property="article:tag" content="Nginx"><meta property="article:tag" content="Ngrok"><meta property="article:tag" content="Nexus"><meta property="og:site_name" content="傅杭波的博客UhfunBlog" />
  <meta name="baidu-site-verification" content= "9DYfdd4yEo" />
  <meta name="google-site-verification" content="uDSkqT9lEtkk2RsKYeldTKkmr4u_yI5aR3Y-tGgjcBo" />
  <title>Linux软件环境安装配置 | UhfunBlog</title>
  <!-- Favicon -->
  <link rel="shortcut icon" href="/assets/img/favicon.ico">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="/assets/css/main.css"><link type="application/atom+xml" rel="alternate" href="https://uhfun.cn/feed.xml" title="UhfunBlog" /><!-- <script data-ad-client="ca-pub-1900429580469964" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/font-awesome/5.11.2/js/all.min.js"></script>
</head><body><header class="navbar has-shadow is-spaced" role="banner">
  <div class="container"><div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img src='https://s1.ax1x.com/2020/06/04/t0QDIg.png' width="160">
      </a>
      <div role="button" class="navbar-burger burger" data-target="navbarExampleTransparentExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </div>
    </div>
    <div class="navbar-menu">      
      <div class="navbar-end">
        <a class='navbar-item' href='/'>主页</a><a class="navbar-item" href="/README.html">自述
        </a><a class="navbar-item" href="/tag/">标签
        </a><a class="navbar-item" href="/search/">搜索
        </a><a class="navbar-item" href="/life/">生活
        </a><a class="navbar-item" href="/tech/">技术
        </a><div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
              <img class="is-rounded" src='https://s1.ax1x.com/2020/06/04/t0QjeK.jpg'>
          </a>
          <div class="navbar-dropdown is-right">
            <a class="icon-dropdown navbar-item" href="/about.html">
              <i class="far fa-user" aria-hidden="true"></i> 关于
            </a>
            <a class="icon-dropdown navbar-item" href="https://github.com/uhfun">
              <i class="fab fa-github" aria-hidden="true"></i> Github
            </a>
            <hr class="navbar-divider">
            <a class="navbar-item" href="/README.html#utterances"> 报告问题
            </a>
          </div>
        </div>
      </div>
    </div></div>
</header>
<div class="section">
    <div class="container">
      <article class="page">
  <div class="content">
    <article class="post"><h1 class="title is-spaced">Linux软件环境安装配置</h1><div class="tags">
    <div class="container"><span class="icon is-small">
            <i class="fa fa-tags" aria-hidden="true"></i>
        </span><a href="/tag/vps">VPS</a><a href="/tag/linux">Linux</a><a href="/tag/shadowsocks">Shadowsocks</a><a href="/tag/nginx">Nginx</a><a href="/tag/ngrok">Ngrok</a><a href="/tag/nexus">Nexus</a>
        <span class="spot">•</span>
        <span class='formated-date' data-time="2018/10/10 09:55:00">
            2018-10-10
        </span><span class="spot">•</span>
        <span>6分钟
        </span></div>
</div><div class='post-img'></div><div class="article_license">
      <p>
        <strong>版权声明：本文为博主原创文章，遵循</strong> 
        <a target="_blank" href="http://creativecommons.org/licenses/by-sa/4.0/">CC 4.0 BY-SA</a>       
        <strong>版权协议，转载请附上原文出处链接和本声明。</strong>    
        <br>    
        <strong>本文链接：</strong> 
        <a target="_blank" href="https://uhfun.cn/tech/2018/10/10/Linux软件环境安装配置.html">https://uhfun.cn/tech/2018/10/10/Linux软件环境安装配置.html</a>        
      </p>
    </div><div class='post-content'>
    <div id="toc"></div><p>服务器软件的安装记录，包括科学上网ss、nginx、git、ftp服务器、java环境、内网穿透ngrok、Nexus</p>

<h2 id="1科学上网安装ss">1、科学上网，安装ss</h2>

<p><a href="https://github.com/iMeiji/shadowsocks_install/wiki/shadowsocks-libev-%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85">一键脚本点网站这里</a></p>

<h3 id="一键脚本安装ss">一键脚本安装ss</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget <span class="nt">--no-check-certificate</span> https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev-debian.sh
<span class="nb">chmod</span> +x shadowsocks-libev-debian.sh
./shadowsocks-libev-debian.sh 2&gt;&amp;1 | <span class="nb">tee </span>shadowsocks-libev-debian.log
</code></pre></div></div>

<h3 id="删除日志和脚本文件">删除日志和脚本文件</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm </span>shadowsocks-libev-debian.<span class="k">*</span>
</code></pre></div></div>

<h2 id="2安装nginx">2、安装nginx</h2>

<h3 id="安装nginx的依赖包">安装nginx的依赖包</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>openssl libssl-dev
<span class="nb">sudo </span>apt-get <span class="nb">install </span>libpcre3 libpcre3-dev
<span class="nb">sudo </span>apt-get <span class="nb">install </span>zlib1g-dev
</code></pre></div></div>

<h3 id="下载源码解压">下载源码解压</h3>

<p><strong>官网</strong> http://nginx.org/en/download.html</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget http://nginx.org/download/nginx-1.14.0.tar.gz
<span class="nb">tar</span> <span class="nt">-xzvf</span> nginx-1.14.0.tar.gz
<span class="nb">mv </span>nginx-1.14.0 /usr/local/src/nginx
<span class="nb">rm </span>nginx-1.14.0.tar.gz
</code></pre></div></div>

<blockquote>
  <p>解压目录为/usr/local/src 默认用户软件源码安装位置<br />
可以参考下面Linux参考内容</p>
</blockquote>

<h3 id="配置编译参数">配置编译参数</h3>

<p><a href="https://blog.csdn.net/forest_boy/article/details/50127691">参考网址</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/src/nginx/configure <span class="nt">--prefix</span><span class="o">=</span>/usr/local/nginx  
<span class="nt">--with-http_ssl_module</span> <span class="se">\ </span> 
<span class="nt">--sbin-path</span><span class="o">=</span>/usr/local/nginx/sbin/nginx <span class="se">\ </span> 
<span class="nt">--conf-path</span><span class="o">=</span>/usr/local/nginx/conf/nginx.conf <span class="se">\ </span> 
<span class="nt">--pid-path</span><span class="o">=</span>/usr/local/nginx/logs/nginx.pid <span class="se">\ </span> 
</code></pre></div></div>

<h3 id="配置参数解析">配置参数解析</h3>

<ul>
  <li>–prefix=path nginx的安装目录。默认使用/usr/local/nginx</li>
  <li>–sbin-path=path设置nginx的可执行文件的路径，默认为prefix/sbin/nginx.</li>
  <li>–conf-path=path设置在nginx.conf配置文件的路径。nginx允许使用不同的配置文件启动，通过命令行中的-c选项。默认为prefix/conf/nginx.conf.</li>
  <li>–pid-path=path设置nginx.pid文件，将存储的主进程的进程号。安装完成后，可以随时改变的文件名 ， 在nginx.conf配置文件中使用 PID指令。默认情况下，文件名 为prefix/logs/nginx.pid.</li>
</ul>

<h3 id="编译安装">编译、安装</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /usr/local/src/nginx/ 
make
make <span class="nb">install</span>
</code></pre></div></div>

<h3 id="添加环境变量到统一的nginxsh文件中">添加环境变量(到统一的nginx.sh文件中)</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo export </span><span class="nv">NGINX_HOME</span><span class="o">=</span>/usr/local/nginx <span class="o">&gt;&gt;</span> /etc/profile.d/nginx.sh
<span class="nb">echo</span> <span class="nt">-n</span> <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s1">'$PATH'</span>:<span class="s1">'$NGINX_HOME'</span>/sbin <span class="o">&gt;&gt;</span> /etc/profile.d/nginx.sh
<span class="nb">source</span> /etc/profile.d/nginx.sh
</code></pre></div></div>

<blockquote>
  <p>关于环境变量，参考下面的环境变量执行顺序</p>
</blockquote>

<h3 id="nginx启动等相关命令">nginx启动等相关命令</h3>

<p>启动  nginx <br />
停止  nginx -s stop<br />
重新加载配置文件  nginx -s reload<br />
指定配置文件  nginx -c /usr/local/nginx/conf/nginx.conf<br />
查看nginx进程：ps -ef|grep nginx</p>

<h3 id="设置开机启动">设置开机启动</h3>

<h4 id="方法一">方法一</h4>

<p>将命令复制到 /etc/rc.local 文件中（exit 0之前）</p>

<h4 id="方法二">方法二</h4>

<p>将脚本文件软链接到 /etc/init.d/ 目录下，update-rc.d xxx defaults NN命令(xxx为文件名，NN为启动顺序)，将脚本添加到初始化执行的队列中
（注意如果脚本需要用到网络，则NN需设置一个比较大的数字，如98）
取消自启动 update-rc.d -f xxx remove</p>

<p>脚本网址：https://github.com/JasonGiedymin/nginx-init-ubuntu/blob/master/nginx</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /etc/init.d/  
vi nginx
<span class="c">#拷贝脚本内容</span>
<span class="nb">chmod</span> +x nginx
update-rc.d nginx defaults 90
</code></pre></div></div>

<h3 id="设置自定义-nginx-配置目录和静态资源目录可忽略">设置自定义 nginx 配置目录和静态资源目录（可忽略）</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /usr/local/nginx/conf
<span class="nb">mkdir </span>customized
<span class="nb">ln</span> <span class="nt">-s</span> /usr/local/nginx/conf/customized ~/nginx/conf.d
<span class="nb">ln</span> <span class="nt">-s</span> /usr/local/nginx/html ~/nginx/html
<span class="nb">mkdir</span> ~/nginx/html/static
<span class="nb">chmod </span>775 ~/nginx/html/static
vi /usr/local/nginx/conf/nginx.conf
<span class="c">#http里添加  include       /usr/local/nginx/conf/customized/*;</span>
nginx <span class="nt">-s</span> reload
</code></pre></div></div>

<h3 id="静态网页配置文件">静态网页配置文件</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server <span class="o">{</span>
        listen 80<span class="p">;</span>
        server_name angrybird.hbson.cn<span class="p">;</span>
        location / <span class="o">{</span>
            root   html/static/angry_bird_web<span class="p">;</span>
            index  index.html index.htm<span class="p">;</span>
        <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>放在 <strong>~/nginx/conf.d</strong> 下</p>

<h3 id="所涉及的目录">所涉及的目录</h3>

<ul>
  <li>/usr/local/src/nginx 源码目录</li>
  <li>/usr/local/nginx 安装目录</li>
  <li>/usr/local/nginx/html 静态文件目录</li>
  <li>/usr/local/nginx/conf 配置文件目录</li>
  <li>/usr/local/nginx/logs 日志文件目录</li>
  <li>~/nginx/conf/conf.d 自定义配置文件目录软链接</li>
  <li>~/nginx/html/static 自定义静态文件目录软链接</li>
  <li>/etc/init.d 自启动目录（添加了 nginx脚本，添加了service）</li>
  <li>/etc/profile.d 自动配置目录（添加了 nginx.sh脚本，用于配置环境变量）</li>
</ul>

<h2 id="3安装git">3、安装git</h2>

<p>apt-get install libcurl4-gnutls-dev libexpat1-dev gettext libz-dev libssl-dev git -y</p>

<h2 id="4安装ftp服务器">4、安装ftp服务器</h2>

<blockquote>
  <p>默认访问路径 /srv/ftp</p>
</blockquote>

<h3 id="安装vsftpd">安装vsftpd</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>vsftpd
vi /etc/vsftpd.conf
</code></pre></div></div>

<h3 id="修改配置">修改配置</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#按照如下配置
anonymous_enable=NO
local_enable=YES
write_enable=YES
chroot_local_user=YES
chroot_list_enable=YES
chroot_list_file=/etc/vsftpd.chroot_list
pam_service_name=ftp
utf8_filesystem=YES
#下面的配置需要手动添加
userlist_enable=YES
userlist_deny=NO
userlist_file=/etc/vsftpd.user_list
allow_writeable_chroot=YES
</code></pre></div></div>

<p>涉及linux 命令 ：user
<a href="http://www.runoob.com/linux/linux-comm-useradd.html">参考网址</a></p>

<h3 id="添加用户">添加用户</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>useradd <span class="nt">-d</span> /home/xxx <span class="nt">-s</span> /sbin/nologin <span class="nt">-g</span> ggg <span class="nt">-M</span> xxx
passwd xxx
<span class="c">#(删除userdel xxx)</span>
<span class="c">#xxx 用户名 ggg 用户组</span>
<span class="c">#添加xxx到ftp允许访问用户列表</span>
<span class="nb">echo </span>xxx <span class="o">&gt;&gt;</span> /etc/vsftpd.user_list
service vsftpd restart
</code></pre></div></div>

<h3 id="创建用户文件夹设置权限">创建用户文件夹，设置权限</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> /home/xxx
<span class="nb">chown </span>xxx:ggg /home/xxx
<span class="nb">chmod </span>755 /home/xxx
<span class="c">#权限为：拥有者读写执行，而属组用户和其他用户只有读、执行权限</span>
</code></pre></div></div>

<h2 id="5安装java环境">5、安装Java环境</h2>

<p><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">JDK网址</a></p>

<h3 id="下载源码解压-1">下载源码，解压</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /home/fu 
<span class="nb">tar</span> <span class="nt">-xvf</span> jdk-8u181-linux-x64.tar
<span class="nb">rm</span> /home/fu/jdk-8u181-linux-x64.tar
<span class="nb">mkdir</span> /usr/lib/jvm
<span class="nb">mv </span>jdk1.8.0_181 /usr/lib/jvm/jdk
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>环境变量
export JAVA_HOME=/usr/lib/jvm/jdk 
export CLASSPATH=:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$CLASSPATH 
export PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH 
</code></pre></div></div>

<h3 id="新建配置脚本文件">新建配置脚本文件</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/lib/jvm/jdk  <span class="o">&gt;&gt;</span> /etc/profile.d/jdk.sh
<span class="nb">echo export </span><span class="nv">CLASSPATH</span><span class="o">=</span>:<span class="s1">'$JAVA_HOME'</span>/lib:<span class="s1">'$JAVA_HOME'</span>/jre/lib:<span class="nv">$CLASSPATH</span> <span class="o">&gt;&gt;</span> /etc/profile.d/jdk.sh
<span class="nb">echo export </span><span class="nv">PATH</span><span class="o">=</span><span class="s1">'$PATH'</span>:<span class="s1">'$JAVA_HOME'</span>/bin:<span class="s1">'$JAVA_HOME'</span>/jre/bin:<span class="s1">'$PATH'</span> <span class="o">&gt;&gt;</span> /etc/profile.d/jdk.sh
<span class="nb">source</span> /etc/profile.d/jdk.sh
</code></pre></div></div>

<h2 id="6内网穿透-ngrok">6、内网穿透 ngrok</h2>

<p>地址：https://luozm.github.io/ngrok</p>

<h3 id="安装go环境">安装GO环境</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get update
apt-get <span class="nt">-y</span> <span class="nb">install </span>build-essential mercurial git
wget https://storage.googleapis.com/golang/go1.8.1.linux-amd64.tar.gz
<span class="nb">tar</span> <span class="nt">-C</span> /usr/local <span class="nt">-xzf</span> go1.8.1.linux-amd64.tar.gz
<span class="nb">mkdir</span> <span class="nv">$HOME</span>/go
<span class="nb">echo</span> <span class="s1">'export GOROOT=/usr/local/go'</span> <span class="o">&gt;&gt;</span> /etc/profile.d/go.sh
<span class="nb">echo</span> <span class="s1">'export GOPATH=$HOME/go'</span> <span class="o">&gt;&gt;</span> /etc/profile.d/go.sh
<span class="nb">echo</span> <span class="s1">'export PATH=$PATH:$GOROOT/bin:$GOPATH/bin'</span> <span class="o">&gt;&gt;</span> /etc/profile.d/go.sh
<span class="nb">source</span> /etc/profile.d/go.sh
</code></pre></div></div>

<h3 id="下载源码">下载源码</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /usr/local/src/
git clone https://github.com/tutumcloud/ngrok.git ngrok
<span class="nb">export </span><span class="nv">GOPATH</span><span class="o">=</span>/usr/local/src/ngrok/
</code></pre></div></div>

<blockquote>
  <p>自己建立ngrok服务，需要我们生成自己的证书，并提供携带该证书的ngrok客户端</p>
</blockquote>

<h3 id="指定域名">指定域名</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>ngrok
<span class="nv">NGROK_DOMAIN</span><span class="o">=</span><span class="s2">"tunnel.hbson.cn"</span>
</code></pre></div></div>

<h3 id="生成证书">生成证书</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl genrsa <span class="nt">-out</span> rootCA.key 2048
openssl req <span class="nt">-x509</span> <span class="nt">-new</span> <span class="nt">-nodes</span> <span class="nt">-key</span> rootCA.key <span class="nt">-subj</span> <span class="s2">"/CN=</span><span class="nv">$NGROK_DOMAIN</span><span class="s2">"</span> <span class="nt">-days</span> 5000 <span class="nt">-out</span> rootCA.pem
openssl genrsa <span class="nt">-out</span> device.key 2048
openssl req <span class="nt">-new</span> <span class="nt">-key</span> device.key <span class="nt">-subj</span> <span class="s2">"/CN=</span><span class="nv">$NGROK_DOMAIN</span><span class="s2">"</span> <span class="nt">-out</span> device.csr
openssl x509 <span class="nt">-req</span> <span class="nt">-in</span> device.csr <span class="nt">-CA</span> rootCA.pem <span class="nt">-CAkey</span> rootCA.key <span class="nt">-CAcreateserial</span> <span class="nt">-out</span> device.crt <span class="nt">-days</span> 5000
<span class="nb">cp </span>rootCA.pem assets/client/tls/ngrokroot.crt
<span class="nb">cp </span>device.crt assets/server/tls/snakeoil.crt 
<span class="nb">cp </span>device.key assets/server/tls/snakeoil.key
</code></pre></div></div>

<h3 id="编译ngrok">编译ngrok</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make clean
make release-server
<span class="nv">GOOS</span><span class="o">=</span>darwin <span class="nv">GOARCH</span><span class="o">=</span>amd64 make release-client
</code></pre></div></div>

<h3 id="运行服务端">运行服务端</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/src/ngrok/bin/ngrokd <span class="nt">-domain</span><span class="o">=</span><span class="s2">"tunnel.hbson.cn"</span> <span class="nt">-httpAddr</span><span class="o">=</span><span class="s2">":8002"</span> <span class="nt">-httpsAddr</span><span class="o">=</span><span class="s2">":8003"</span> <span class="nt">-tunnelAddr</span><span class="o">=</span><span class="s2">":4040"</span>
</code></pre></div></div>

<h3 id="通过ftp或其他方式下载到本地">通过ftp或其他方式下载到本地</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp</span> /bin/darwin_amd64/ngrok /home/fu/ngrok
</code></pre></div></div>

<h3 id="本地创建hbsoncfg文件">本地创建hbson.cfg文件</h3>

<p>server_addr: “tunnel.hbson.cn:4040”
trust_host_root_certs: false</p>

<h3 id="添加执行权限运行">添加执行权限，运行</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x ngrok
./ngrok <span class="nt">-subdomain</span> <span class="nb">test</span> <span class="nt">-config</span><span class="o">=</span>hbson.cfg 4000
</code></pre></div></div>

<h3 id="在编译客户端的时候需要指明对应的操作系统和构架">在编译客户端的时候需要指明对应的操作系统和构架</h3>

<ul>
  <li>Linux 平台 32 位系统：GOOS=linux GOARCH=386</li>
  <li>Linux 平台 64 位系统：GOOS=linux GOARCH=amd64</li>
  <li>Windows 平台 32 位系统：GOOS=windows GOARCH=386</li>
  <li>Windows 平台 64 位系统：GOOS=windows GOARCH=amd64</li>
  <li>MAC 平台 32 位系统：GOOS=darwin GOARCH=386</li>
  <li>MAC 平台 64 位系统：GOOS=darwin GOARCH=amd64</li>
  <li>ARM 平台：GOOS=linux GOARCH=arm</li>
</ul>

<h3 id="添加nginx-配置-把8002端口转发到80访问时就不需要追加端口号">添加nginx 配置 ,把8002端口转发到80（访问时就不需要追加端口号）</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server {
    listen       80;
    server_name  *.tunnel.hbson.cn;
    location / {
             proxy_pass http://$host:8002;
             proxy_redirect off;
             client_max_body_size 10m;
             client_body_buffer_size 128k;
             proxy_connect_timeout 90;
             proxy_read_timeout 90;
             proxy_buffer_size 4k;
             proxy_buffers 6 128k;
             proxy_busy_buffers_size 256k;
             proxy_temp_file_write_size 256k;
        }
}
</code></pre></div></div>

<h3 id="在http里添加dns">在http{}里，添加DNS:</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi /usr/local/nginx/conf/nginx.conf
resolver      8.8.8.8<span class="p">;</span>
</code></pre></div></div>

<h3 id="设置开机启动-1">设置开机启动</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'#!/bin/sh'</span> <span class="o">&gt;&gt;</span> ~/ngrok/ngrok.sh
<span class="nb">echo</span> /usr/local/src/ngrok/bin/ngrokd <span class="nt">-domain</span><span class="o">=</span><span class="s2">"tunnel.hbson.cn"</span> <span class="nt">-httpAddr</span><span class="o">=</span><span class="s2">":8002"</span> <span class="nt">-httpsAddr</span><span class="o">=</span><span class="s2">":8003"</span> <span class="nt">-tunnelAddr</span><span class="o">=</span><span class="s2">":4040"</span> <span class="o">&gt;&gt;</span> ~/ngrok/ngrok.sh
<span class="nb">chmod</span> +x ngrok.sh
<span class="nb">ln</span> <span class="nt">-s</span> ~/ngrok/ngrok.sh /etc/init.d/ngrok
update-rc.d ngrok defaults 91
</code></pre></div></div>

<h2 id="7安装nexus">7、安装Nexus</h2>

<p><a href="https://www.sonatype.com/download-oss-sonatype">官网</a></p>

<h3 id="下载解压">下载解压</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar</span> <span class="nt">-zxvf</span> /home/fu/nexus-3.13.0-01-unix.tar 
</code></pre></div></div>

<blockquote>
  <table>
    <tbody>
      <tr>
        <td>–nexus-3.13.0-01是Nexus的服务主目录</td>
      </tr>
      <tr>
        <td>–sonatype-work是真正的仓库</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h3 id="配置环境变量">配置环境变量</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm</span> /etc/profile.d/nexus.sh
<span class="nb">echo export </span><span class="nv">NEXUS_HOME</span><span class="o">=</span>/usr/local/nexus <span class="o">&gt;&gt;</span> /etc/profile.d/nexus.sh
<span class="nb">echo export </span><span class="nv">PATH</span><span class="o">=</span><span class="s1">'$PATH'</span>:<span class="s1">'$NEXUS_HOME'</span>/bin <span class="o">&gt;&gt;</span> /etc/profile.d/nexus.sh
<span class="nb">source</span> /etc/profile.d/nexus.sh
</code></pre></div></div>

<h3 id="修改默认端口">修改默认端口</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi <span class="k">${</span><span class="nv">NEXUS_HOME</span><span class="k">}</span>/etc/nexus-default.properties
application-port<span class="o">=</span>9943
</code></pre></div></div>

<h3 id="启动">启动</h3>

<ul>
  <li>nexus start</li>
  <li>nexus run</li>
</ul>

<h2 id="linux参考内容">Linux参考内容</h2>

<h3 id="linux目录">Linux目录</h3>

<ul>
  <li>/bin 二进制可执行命令</li>
  <li>/dev 设备特殊文件</li>
  <li>/etc 系统管理和配置文件</li>
  <li>/etc/rc.d 启动的配置文件和脚本</li>
  <li>/home 用户主目录的基点，比如用户user的主目录就是/home/user，可以用~user表示</li>
  <li>/lib 标准程序设计库，又叫动态链接共享库，作用类似windows里的.dll文件</li>
  <li>/sbin 系统管理命令，这里存放的是系统管理员使用的管理程序</li>
  <li>/tmp 公用的临时文件存储点</li>
  <li>/root 系统管理员的主目录</li>
  <li>/mnt 系统提供这个目录是让用户临时挂载其他的文件系统。</li>
  <li>/proc 虚拟的目录，是系统内存的映射。可直接访问这个目录来获取系统信息。</li>
  <li>/var 某些大文件的溢出区，比方说各种服务的日志文件</li>
  <li>/usr 最庞大的目录，要用到的应用程序和文件几乎都在这个目录。其中包含：</li>
  <li>/usr/bin 众多的应用程序</li>
  <li>/usr/sbin 超级用户的一些管理程序</li>
  <li>/usr/doc linux文档</li>
  <li>/usr/include linux下开发和编译应用程序所需要的头文件</li>
  <li>/usr/lib 常用的动态链接库和软件包的配置文件</li>
  <li>/usr/man 帮助文档</li>
  <li>/usr/src 源代码，linux内核的源代码就放在/usr/src/linux里</li>
  <li>/usr/local 本地系统管理员用来自由添加程序的目录</li>
  <li>/usr/local/bin 用户命令</li>
  <li>/usr/local/lib 用户库</li>
  <li>/usr/local/src 用户级源码目录</li>
</ul>

<h3 id="了解-profileprofiledbashrcbash_profilebashrc的作用和执行顺序">了解 profile、profile.d、bashrc、bash_profile、bashrc的作用和执行顺序</h3>

<ul>
  <li>bash的配置文件：
    <ol>
      <li>按生效范围划分：
全局配置：/etc/profile和/etc/profile.d（/etc/profile.d是个目录，里面存放的是以.sh结尾的   shell脚本文件）
个人配置：~/bash_profile和~/bashrc</li>
      <li>按功能划分：
profile类：为交互式登陆的shell提供配置（定义环境变量、需要执行的脚本）；
bashrc类：为非交互式登陆的shell提供配置（定义别名、本地变量）；</li>
    </ol>
  </li>
  <li>shell登陆：交互式登陆、非交互式登陆
    <ol>
      <li>交互式登陆：
        <ol>
          <li>直接通过终端输入账号密码登陆；</li>
          <li>使用su - UserName或su -l UserName或su –login UserName登陆；通过man su查看命令，   如下图：可知会初始化环境变量。</li>
        </ol>
      </li>
      <li>非交互式登陆：
        <ol>
          <li>su UserName；</li>
          <li>图形界面下打开的终端；</li>
          <li>执行脚本；</li>
        </ol>
      </li>
    </ol>
  </li>
</ul>

<p>交互式登陆的执行流程：<strong>/etc/profile —&gt; /etc/profile.d —&gt; ~/bash_profile —&gt; ~/bashrc —&gt; /etc/bashrc</strong><br />
非交互式登陆的执行流程：<strong>~/bashrc —&gt; ~/bash_profile —&gt; /etc/profile.d/*.sh</strong></p>

<h3 id="常见的权限表示形式">常见的权限表示形式</h3>

<ul>
  <li>-rw——- (600)      只有拥有者有读写权限。</li>
  <li>-rw-r–r– (644)      只有拥有者有读写权限；而属组用户和其他用户只有读权限。</li>
  <li>-rwx—— (700)     只有拥有者有读、写、执行权限。</li>
  <li>-rwxr-xr-x (755)    拥有者有读、写、执行权限；而属组用户和其他用户只有读、执行权限。</li>
  <li>-rwx–x–x (711)    拥有者有读、写、执行权限；而属组用户和其他用户只有执行权限。</li>
  <li>-rw-rw-rw- (666)   所有用户都有文件读、写权限。</li>
  <li>-rwxrwxrwx (777)  所有用户都有读、写、执行权限。</li>
</ul>

<h3 id="解压命令大全">解压命令大全</h3>

<p><a href="https://www.cnblogs.com/eoiioe/archive/2008/09/20/1294681.html">参考网址</a></p>

  </div>
  <div class='post-footer'><a class='post-previous' href="/tech/2018/08/08/Spring%E6%B3%A8%E8%A7%A3.html">
      <i class="fa fa-chevron-left" aria-hidden="true"></i>
      Spring注解
    </a><a class='post-next' href="/tech/2020/01/15/Swagger-more%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8.html">
      Swagger more如何使用
      <i class="fa fa-chevron-right" aria-hidden="true"></i>
    </a></div>
</article><div id='utterances' class="utterances-comments-header">
  <div>
    <div><strong></strong><a target="_blank" href="https://utteranc.es/">&nbsp;Utterances&nbsp;</a></strong>驱动</div>    
  </div><div><a target="_blank" href="https://github.com/uhfun/Uhfun-Jekyll/issues?q=Linux软件环境安装配置 | UhfunBlog"><strong>issue</strong></a></div>  
</div><script src="https://utteranc.es/client.js"
        repo= "uhfun/Uhfun-Jekyll"
        issue-term="og:title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
  </div>
</article>

    </div>
  </div><footer class="footer">
  <div class="container">
    <div class="content has-text-centered">          
      <p><a href="https://uhfun.cn/tech/2018/10/10/Linux%E8%BD%AF%E4%BB%B6%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE.html">Github Pages</a>&nbsp;|&nbsp;<a href="https://uhfun.gitee.io/uhfun-jekyll/tech/2018/10/10/Linux%E8%BD%AF%E4%BB%B6%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE.html">Gitee Pages</a>&nbsp;|&nbsp;<a href="https://blog.uhfun.cn/tech/2018/10/10/Linux%E8%BD%AF%E4%BB%B6%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE.html">Coding Pages</a>&nbsp;|&nbsp;<a href="https://www.uhfun.cn/tech/2018/10/10/Linux%E8%BD%AF%E4%BB%B6%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE.html">Vps Pages</a><br>
        Copyright © Uhfun Blog 2019<br>
        Powered by <strong> <a target="_blank" href="https://github.com/jekyll/jekyll">Jekyll</a></strong>
        &nbsp;|&nbsp;Themed by <strong> <a target="_blank" href="https://github.com/uhfun/Uhfun-Jekyll">Uhfun-Jekyll</a></strong> 
        &nbsp; <br> licensed <a target="_blank" href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></a>.
        &nbsp;
      </p>
    </div>
  </div>
</footer>
<div class="back-to-top is-info">
    <a class="icon-stack">
        <ion-icon name="arrow-dropup">
            <svg class="svg-icon">
                <use xlink:href="/assets/arrow-dropup.svg"></use>
            </svg>
        </ion-icon>
        <span class="back-to-top-text">Top</span>
    </a>
</div>
<script src="/assets/js/back-to-top.js"></script>
<script src="/assets/js/drop-down.js"></script>
<script async src="/assets/js/category-post-num.js"></script>
<script async src="/assets/js/baidu-push.js"></script>
<script src="/assets/js/360-push.js"></script>
<script async src="/assets/js/toc.js"></script>
<script async src="/assets/js/gcse.js"></script>   
<!-- <script async src="https://cse.google.com/cse.js?cx=008845838503066136412:qlzdwp3e2z8"></script> --></body>
<script src="/assets/js/date-format.js"></script>
</html>