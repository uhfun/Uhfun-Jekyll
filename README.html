<!DOCTYPE html>
<html lang="zh-CN"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="keywords" content="傅杭波, Uhfun傅杭波, Uhfun, UhfunBlog, Hbson傅杭波, Hb, Hbson, 博客, 个人网站, 互联网, 后端, Web, Java, Spring, 翻唱, 唱歌">
  <meta name="description" content='代码与生活、热爱唱歌的boy | 傅杭波的个人博客'>
  <meta name="robots" content="all">
  <meta property="og:type" content="post" /><meta property="og:title" content="README | UhfunBlog" />
  <meta property="og:image" content='https://uhfun.cn/assetshttps://s1.ax1x.com/2020/06/04/t0QjeK.jpg' />
  <meta property="og:type" content="article">
  <meta property="og:description" content=""><meta property="article:author" content="傅杭波"><meta property="og:image" content="" >
  <meta property="og:url" content="https://uhfun.cn/README.html"><meta property="og:site_name" content="傅杭波的博客UhfunBlog" />
  <meta name="baidu-site-verification" content= "9DYfdd4yEo" />
  <meta name="google-site-verification" content="uDSkqT9lEtkk2RsKYeldTKkmr4u_yI5aR3Y-tGgjcBo" />
  <title>README | UhfunBlog</title>
  <!-- Favicon -->
  <link rel="shortcut icon" href="/assets/img/favicon.ico">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="/assets/css/main.css"><link type="application/atom+xml" rel="alternate" href="https://uhfun.cn/feed.xml" title="UhfunBlog" /><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/font-awesome/5.11.2/js/all.min.js"></script>
</head><body><header class="navbar has-shadow is-spaced" role="banner">
  <div class="container"><div class="navbar-brand">
      <a class="navbar-item" href="/">
        <img src='https://s1.ax1x.com/2020/06/04/t0QDIg.png' width="160">
      </a>
      <div role="button" class="navbar-burger burger" data-target="navbarExampleTransparentExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </div>
    </div>
    <div class="navbar-menu">      
      <div class="navbar-end">
        <a class='navbar-item' href='/'>主页</a><a class="navbar-item" href="/README.html">自述
        </a><a class="navbar-item" href="/tag/">标签
        </a><a class="navbar-item" href="/search/">搜索
        </a><a class="navbar-item" href="/life/">生活
        </a><a class="navbar-item" href="/tech/">技术
        </a><div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
              <img class="is-rounded" src='https://s1.ax1x.com/2020/06/04/t0QjeK.jpg'>
          </a>
          <div class="navbar-dropdown is-right">
            <a class="icon-dropdown navbar-item" href="/about.html">
              <i class="far fa-user" aria-hidden="true"></i> 关于
            </a>
            <a class="icon-dropdown navbar-item" href="https://github.com/uhfun">
              <i class="fab fa-github" aria-hidden="true"></i> Github
            </a>
            <hr class="navbar-divider">
            <a class="navbar-item" href="/README.html#utterances"> 报告问题
            </a>
          </div>
        </div>
      </div>
    </div></div>
</header>
<div class="section">
    <div class="container">
      <article class="page">
  <div class="content">
    <article class="post"><h1 class="title is-spaced">README</h1><div class="tags">
    <div class="container"></div>
</div><div class='post-img'></div><div class='post-content'>
    <div id="toc"></div><p align="center" style="margin:30px 0;"><img src="https://s1.ax1x.com/2020/06/04/t01MND.png" width="280" height="280" /></p>

<p><a href="https://app.codeship.com/projects/378092"><img src="https://app.codeship.com/projects/f6209f60-009c-0138-cf9c-6ab62c942013/status?branch=master" alt="Codeship Status for uhfun/Uhfun-Jekyll" /></a> <a href="https://gitter.im/uhfun_opoen_source/Uhfun-Jekyll?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/uhfun_opoen_source/Uhfun-Jekyll.svg" alt="Join the chat at https://gitter.im/uhfun_opoen_source/Uhfun-Jekyll" /></a></p>

<p>　　Uhfun-Jekyll是一套基于Jekyll框架的模板，目前运行在 <a href="https://uhfun.cn">UhfunBlog</a> 网站上。由于GitHub Pages 无法使用不支持的插件构建网站，如果想使用不支持的插件，需要在本地生成网站，然后将网站的静态文件推送到 GitHub。于是我选择了使用Codeship持续继承，自动提交编译后的静态文件到gh-pages分支，选择gh-pages 分支作为github pages的分支。</p>

<h2 id="特性">特性</h2>
<ul>
  <li>首页分页</li>
  <li>标签云</li>
  <li>分类别归档(LIFE/TECH)</li>
  <li>文章目录树</li>
  <li>移动端适配</li>
  <li>自动化持续集成</li>
</ul>

<h2 id="下载">下载</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">-b</span> master https://github.com/uhfun/Uhfun-Jekyll.git
</code></pre></div></div>

<h2 id="安装">安装</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>ruby
gem <span class="nb">install </span>bundler
gem <span class="nb">install </span>jekyll
</code></pre></div></div>
<blockquote>
  <p>安装Jekyll请参考 <a href="http://jekyllcn.com/docs/installation/">Jekyll中文官网</a></p>
</blockquote>

<h2 id="本地运行">本地运行</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll server
<span class="c"># Server address: http://127.0.0.1:4000/</span>
<span class="c"># Server running... press ctrl-c to stop.</span>
</code></pre></div></div>

<h2 id="添加文章">添加文章</h2>
<p>本地调试可以在_posts文件夹中添加xxx.md</p>

<h2 id="持续集成">持续集成</h2>
<ol>
  <li>前往<a href="https://codeship.com">Codeship官网</a>，使用github账户注册账号</li>
  <li>创建Organization</li>
  <li>创建项目(New Project)，选择博客repository</li>
  <li>在Deploy为<strong>master分支</strong>添加自定义脚本
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">echo</span> <span class="s1">'添加posts分支内文章'</span> <span class="o">&amp;&amp;</span> <span class="nb">cd</span> .. <span class="o">&amp;&amp;</span> git clone <span class="nt">-b</span> _posts git@github.com:<span class="k">${</span><span class="nv">CI_REPO_NAME</span><span class="k">}</span>.git _posts <span class="o">&amp;&amp;</span> <span class="nb">ls </span>_posts <span class="o">&amp;&amp;</span> <span class="nb">mv </span>_posts/<span class="k">*</span>.md clone/_posts
  <span class="nb">echo</span> <span class="s1">'下载github pages 静态资源'</span> <span class="o">&amp;&amp;</span> <span class="nb">cd </span>clone <span class="o">&amp;&amp;</span> git clone <span class="nt">-b</span> <span class="k">${</span><span class="nv">GH_PAGES_BRANCH</span><span class="k">}</span> git@github.com:<span class="k">${</span><span class="nv">CI_REPO_NAME</span><span class="k">}</span>.git _site
  <span class="nb">echo</span> <span class="s1">'删除除.git 外所有文件'</span> <span class="o">&amp;&amp;</span> <span class="nb">rm</span> <span class="nt">-rf</span> _site/<span class="k">**</span>/<span class="k">*</span> <span class="o">||</span> <span class="nb">exit </span>0
  <span class="nb">echo</span> <span class="s1">'重新编译生成静态文件'</span> <span class="o">&amp;&amp;</span> bundle <span class="nb">install</span> <span class="o">&amp;&amp;</span> bundle <span class="nb">exec </span>jekyll build
  <span class="nb">cd </span>_site <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s1">'自定义域名'</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="k">${</span><span class="nv">CUSTOM_DOAMIN</span><span class="k">}</span> <span class="o">&gt;</span> CNAME
  git config <span class="nt">--global</span> user.email <span class="k">${</span><span class="nv">GH_USER_EMAIL</span><span class="k">}</span>
  git config <span class="nt">--global</span> user.name <span class="k">${</span><span class="nv">GH_USER_NAME</span><span class="k">}</span>
  git add <span class="nb">.</span>
  git commit <span class="nt">-m</span> <span class="s2">"Commit </span><span class="k">${</span><span class="nv">CI_COMMIT_ID</span><span class="k">}</span><span class="s2"> </span><span class="k">${</span><span class="nv">CI_COMMIT_MESSAGE</span><span class="k">}</span><span class="s2"> to branch </span><span class="k">${</span><span class="nv">GH_PAGES_BRANCH</span><span class="k">}</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> git push origin <span class="k">${</span><span class="nv">GH_PAGES_BRANCH</span><span class="k">}</span>
</code></pre></div>    </div>
  </li>
  <li>选择触发机制(Build Triggers)</li>
  <li>配置环境变量(Environment)
    <div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="py">GH_PAGES_BRANCH</span><span class="p">=</span><span class="s">gh-pages</span>
  <span class="py">CUSTOM_DOAMIN</span><span class="p">=</span><span class="s">uhfun.cn</span>
  <span class="py">GH_USER_EMAIL</span><span class="p">=</span><span class="s">2512500628@qq.com</span>
  <span class="py">GH_USER_NAME</span><span class="p">=</span><span class="s">uhfun   </span>
  <span class="py">GH_PAGES_REPOSITORY</span><span class="p">=</span><span class="s">Uhfun-Jekyll</span>
</code></pre></div>    </div>
  </li>
</ol>

<blockquote>
  <p>如果选择将文章保存在单独的分支，可以创建_posts分支
在Build Triggers中为<strong>_posts分支</strong>添加新的脚本</p>
  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> .. <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s1">'下载github pages 源文件'</span> <span class="o">&amp;&amp;</span> git clone <span class="nt">-b</span> master git@github.com:<span class="k">${</span><span class="nv">CI_REPO_NAME</span><span class="k">}</span>.git _source <span class="o">&amp;&amp;</span> <span class="nb">cd </span>_source
<span class="nb">echo</span> <span class="s1">'添加posts分支内文章'</span> <span class="o">&amp;&amp;</span> <span class="nb">mv</span> ../clone/<span class="k">*</span> _posts
<span class="nb">echo</span> <span class="s1">'下载github pages 静态资源'</span> <span class="o">&amp;&amp;</span> git clone <span class="nt">-b</span> <span class="k">${</span><span class="nv">GH_PAGES_BRANCH</span><span class="k">}</span> git@github.com:<span class="k">${</span><span class="nv">CI_REPO_NAME</span><span class="k">}</span>.git _site
<span class="nb">echo</span> <span class="s1">'删除除.git 外所有文件'</span> <span class="o">&amp;&amp;</span> <span class="nb">rm</span> <span class="nt">-rf</span> _site/<span class="k">**</span>/<span class="k">*</span> <span class="o">||</span> <span class="nb">exit </span>0
<span class="nb">echo</span> <span class="s1">'重新编译生成静态文件'</span> <span class="o">&amp;&amp;</span> bundle <span class="nb">install</span> <span class="o">&amp;&amp;</span> bundle <span class="nb">exec </span>jekyll build
<span class="nb">cd </span>_site <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s1">'自定义域名'</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="k">${</span><span class="nv">CUSTOM_DOAMIN</span><span class="k">}</span> <span class="o">&gt;</span> CNAME
git config <span class="nt">--global</span> user.email <span class="k">${</span><span class="nv">GH_USER_EMAIL</span><span class="k">}</span>
git config <span class="nt">--global</span> user.name <span class="k">${</span><span class="nv">GH_USER_NAME</span><span class="k">}</span>
git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Commit </span><span class="k">${</span><span class="nv">CI_COMMIT_ID</span><span class="k">}</span><span class="s2"> </span><span class="k">${</span><span class="nv">CI_COMMIT_MESSAGE</span><span class="k">}</span><span class="s2"> to branch </span><span class="k">${</span><span class="nv">GH_PAGES_BRANCH</span><span class="k">}</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> git push origin <span class="k">${</span><span class="nv">GH_PAGES_BRANCH</span><span class="k">}</span>
</code></pre></div>  </div>
</blockquote>

<h2 id="版权">版权</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Copyright (c) 2020 uhfun

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre></div></div>


  </div>
  <div class='post-footer'></div>
</article><div id='utterances' class="utterances-comments-header">
  <div>
    <div><strong></strong><a target="_blank" href="https://utteranc.es/">&nbsp;Utterances&nbsp;</a></strong>驱动</div>    
  </div><div><a target="_blank" href="https://github.com/uhfun/Uhfun-Jekyll/issues?q=README | UhfunBlog"><strong>issue</strong></a></div>  
</div><script src="https://utteranc.es/client.js"
        repo= "uhfun/Uhfun-Jekyll"
        issue-term="og:title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
  </div>
</article>

    </div>
  </div><footer class="footer">
  <div class="container">
    <div class="content has-text-centered">          
      <p><a href="https://uhfun.cn/README.html">Github Pages</a>&nbsp;|&nbsp;<a href="https://uhfun.gitee.io/uhfun-jekyll/README.html">Gitee Pages</a>&nbsp;|&nbsp;<a href="https://www.uhfun.cn/README.html">Vps Pages</a><br>
        Copyright © Uhfun Blog 2019<br>
        Powered by <strong> <a target="_blank" href="https://github.com/jekyll/jekyll">Jekyll</a></strong>
        &nbsp;|&nbsp;Themed by <strong> <a target="_blank" href="https://github.com/uhfun/Uhfun-Jekyll">Uhfun-Jekyll</a></strong> 
        &nbsp; <br> licensed <a target="_blank" href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></a>.
        &nbsp;
      </p>
    </div>
  </div>
</footer>
<div class="back-to-top is-info">
    <a class="icon-stack">
        <ion-icon name="arrow-dropup">
            <svg class="svg-icon">
                <use xlink:href="/assets/arrow-dropup.svg"></use>
            </svg>
        </ion-icon>
        <span class="back-to-top-text">Top</span>
    </a>
</div>
<script src="/assets/js/back-to-top.js"></script>
<script src="/assets/js/drop-down.js"></script>
<script async src="/assets/js/category-post-num.js"></script>
<script async src="/assets/js/baidu-push.js"></script>
<script async src="/assets/js/360-push.js"></script>
<script async src="/assets/js/toc.js"></script>
<script async src="/assets/js/gcse.js"></script>   
<!-- <script async src="https://cse.google.com/cse.js?cx=008845838503066136412:qlzdwp3e2z8"></script> --></body>
<script src="/assets/js/date-format.js"></script>
</html>